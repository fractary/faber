{
  "$schema": "https://raw.githubusercontent.com/fractary/claude-plugins/main/plugins/faber-cloud/schemas/faber-cloud-config.schema.json",
  "version": "1.0",
  "project": {
    "name": "",
    "description": "Infrastructure managed by faber-cloud",
    "repository": ""
  },
  "environments": [],
  "terraform": {
    "version": "1.0",
    "default_directory": "./terraform",
    "backend_type": "local",
    "var_file_pattern": "{environment}.tfvars",
    "plan_file": "tfplan",
    "state_file": "terraform.tfstate"
  },
  "aws": {
    "default_region": "us-east-1",
    "profile_pattern": "{project}-{environment}",
    "assume_role": false
  },
  "handlers": {
    "iac": {
      "active": "terraform",
      "terraform": {
        "auto_init": true,
        "lock_timeout": "10m",
        "parallelism": 10
      }
    },
    "hosting": {
      "active": "aws",
      "aws": {
        "retry_attempts": 3,
        "retry_delay": 5
      }
    }
  },
  "hooks": {
    "pre_plan": [],
    "post_plan": [],
    "pre_deploy": [],
    "post_deploy": [],
    "pre_destroy": [],
    "post_destroy": []
  },
  "deployment": {
    "approval": {
      "required": true,
      "environments": ["prod"]
    },
    "validation": {
      "enhanced_environment_detection": true,
      "require_environment_match": true,
      "check_state_file": true,
      "check_workspace": true,
      "check_tfvars": true
    },
    "rollback": {
      "enabled": true,
      "automatic": false,
      "keep_failed_plans": true
    }
  },
  "monitoring": {
    "enabled": false,
    "cloudwatch": {
      "enabled": false,
      "log_group": "/aws/faber-cloud/{environment}"
    }
  },
  "notifications": {
    "enabled": false,
    "slack": {
      "webhook_url": "",
      "channel": "#infrastructure"
    }
  }
}
